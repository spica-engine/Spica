<div class="container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>
        <mat-icon>backup</mat-icon>
        Export
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-form-field>
        <mat-select placeholder="Function" #exportFunction multiple>
          <mat-option *ngFor="let function of functions" [value]="function._id">
            {{ function.name }}
          </mat-option>
        </mat-select>
        <mat-hint>Choose a function to export its data.</mat-hint>
      </mat-form-field>
      <mat-card-actions>
        <button mat-button (click)="export(exportFunction.value)">
          Export
        </button>
        <mat-spinner [diameter]="20" *ngIf="progressBarExport"></mat-spinner>
      </mat-card-actions>
    </mat-card-content>
  </mat-card>
  <mat-card>
    <mat-card-header>
      <mat-card-title>
        <mat-icon>restore</mat-icon>
        Import
      </mat-card-title>
    </mat-card-header>
    <mat-card-content class="import-content">
      <input
        type="file"
        accept="application/json"
        #fileSelector
        #fileModel="ngModel"
        [ngModel]="undefined"
      />

      <mat-card-actions>
        <button mat-button (click)="import(fileSelector.files[0])">
          Import
        </button>
        <mat-spinner [diameter]="20" *ngIf="progressBarImport"></mat-spinner>
      </mat-card-actions>
    </mat-card-content>
  </mat-card>
</div>
