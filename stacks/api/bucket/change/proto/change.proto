syntax = "proto3";

message Change {

    Kind kind = 1;

    string bucket = 2;

    string documentKey = 3;

    string previous = 4;
    
    string current = 5;

    enum Kind {
        INSERT = 0;
        UPDATE = 1;
        REPLACE = 2;
        DELETE = 3;
    }

    message Pop {
        string id = 1;
    }
}

service Queue {
    rpc pop(Change.Pop) returns (Change);
}
 